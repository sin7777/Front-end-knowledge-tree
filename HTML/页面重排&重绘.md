# 页面重绘&重排

>[详细讲解](https://zhuanlan.zhihu.com/p/35184404)

页面渲染可分为下面5个步骤：

* 处理 HTML来创建 DOM tree；
* 处理 CSS来创建 CSSOM tree；
* 根据 DOM跟 CSSOM来合并 render tree；
* 根据 render tree来布局；（重排）
* 绘制 render tree。（重绘）

## 重排

当涉及到DOM节点的布局属性发生变化时，就会重新计算该属性，浏览器会重新描绘相应的元素，此过程叫 回流（Reflow）

* 页面渲染初始化
* 窗口大小的调整（resize事件）、添加元素、改变盒模型
* display：none
* 计算盒模型的大小

## 重绘

当影响DOM元素可见性的属性发生变化 (如 color) 时, 浏览器会重新描绘相应的元素, 此过程称为 重绘（Repaint)。因此重排必然会引起重绘。

* visibility:hidden

## 浏览器优化

将多个重排重绘放入一个队列，再进行批处理
