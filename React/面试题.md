# React 面试题

## 在生命周期中的哪一步你应该发起 AJAX 请求

在 componentDidMount 函数中发起ajax请求

* 保证请求仅在组件挂载完毕后才会要求响应
* 调和算法 Fiber 会通过开始或停止渲染的方式优化应用性能，其会影响到 componentWillMount 的触发次数。React 可能会多次频繁调用componentWillMount。

## React 中的事件处理逻辑

为了解决跨浏览器兼容性问题，React 会将浏览器原生事件（Browser Native Event）封装为合成事件（SyntheticEvent）传入设置的事件处理器中。这里的合成事件提供了与原生事件相同的接口，不过它们屏蔽了底层浏览器的细节差异，保证了行为的一致性。另外有意思的  是，React 并没有直接将事件附着到子元素上，而是以单一事件监听器的方式将所有的事件发  送到顶层进行处理。这样 React 在更新 DOM 的时候就不需要考虑如何去处理附着在 DOM 上的事件监听器，最终达到优化性能的目的。

## setState可以接受函数为参数吗？有什么作用

> [讲解](https://juejin.im/post/58cfcf6e44d9040068478fc6)

可以，多个setstate的时候可以避免将对象合并

在组件类外部声明 state 的更新逻辑，然后在组件类内部调用之。

## 什么是HoC（Higher-Order Component）？适用于什么场景

> [讲解](https://www.cnblogs.com/libin-1/p/7087605.html)

高阶组件，高阶组件其实并不是组件，只是一个函数而已。它接收一个组件作为参数，返回一个新的组件。我们可以在新的组件中做一些功能增加，渲染原有的组件。这样返回的组件增强了功能，但渲染与原有保持一致，没有破坏原有组件的逻辑

高阶组件是react应用中很重要的一部分，最大的特点就是重用组件逻辑。它并不是由React API定义出来的功能，而是由React的组合特性衍生出来的一种设计模式。如果你用过redux，那你就一定接触过高阶组件，因为react-redux中的connect就是一个高阶组件。

## setState 是异步更新的
