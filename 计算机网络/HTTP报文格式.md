# HTTP 报文格式

HTTP 报文分为请求报文和响应报文，基本格式都包括三个部分

* 行（请求行，响应行）
* 头部信息
* 实体信息

## 请求报文

![请求报文格式](https://pic2.zhimg.com/80/v2-a1240ea6f385b0975fcbaf5c2ab613ad_hd.jpg)

请求报文格式

* 请求行：请求方法 + 请求地址（url） + 协议版本
* 请求头
* 请求体

### 请求方法

HTTP1.0 定义了三种请求方法： GET, POST 和 HEAD方法。

HTTP1.1 新增了六种请求方法：OPTIONS、PUT、PATCH、DELETE、TRACE 和 CONNECT 方法。

* **GET**
  * get方法的参数是放在请求行的`请求地址url`里面，请求行的大小由浏览器做限制
* **POST**
  * post方法的参数是放在请求体里面
* **HEAD**
  * 类似于 GET 请求，只不过返回的响应中没有具体的内容，用于获取报头。这一方法可以在不必传输整个响应内容的情况下，就可以获取包含在响应消息头中的元信息。
* **PUT**
  * 用于向服务器发送请求，如果URI不存在，则要求服务器根据请求创建资源，如果存在，服务器就接受请求内容，并修改URI的原始版本
* **DELETE**
  * 请求服务器删除指定的页面。
* **PATCH**
  * 是对 PUT 方法的补充，用来对已知资源进行局部更新。
* **OPTIONS**
  * 允许客户端查看服务器的性能，"预检"请求用的请求方法是`OPTIONS`
* **TRACE**
  * 回显服务器收到的请求，主要用于测试或诊断。
* **CONNECT**
  * HTTP/1.1 协议中预留给能够将连接改为管道方式的代理服务器。

## 响应报文

![响应报文格式](https://pic4.zhimg.com/80/v2-48744bc2f4d52457b55846b3a96af42b_hd.jpg)

响应报文格式

* 响应状态行：协议版本 + 响应码 + 响应信息
* 响应头
* 响应体

👉[响应码](./HTTP状态码.md)👈

## 首部分类

HTTP 规范定义了几种首部字段。应用程序也可以随意发明自己所用的首部。HTTP 首部可以分为以下几类。

* 通用首部（General headers）：既可以出现在请求报文中，也可以出现在响应报文中。
* 请求首部（Request headers）：提供更多有关请求的信息。
* 响应首部（Response headers）：提供更多有关响应的信息。
* 实体首部（Entity headers）：描述主体的长度和内容，或者资源自身。
* 扩展首部（Extension headers）：规范中没有定义的新首部。

每个 HTTP 首部都有一种简单的语法：名字后面跟着冒号( :)，然后跟上可选的空格，再跟上字段值，最后是一个 CRLF。

[各种首部的详细信息](https://segmentfault.com/a/1190000014179106)

## GET 请求和 POST 请求的区别

用法上的区别

* 请求的数据放在什么地方？GET 参数通过 URL 传递，POST 放在 Request body 中。
* GET 产生的URL地址可以被 Bookmark，而 POST 不可以。
* GET 请求会被浏览器主动 cache，而POST不会，除非手动设置。
* GET 请求只能进行 url 编码，而 POST 支持多种编码方式。
* GET 请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留。
* GET 请求在 URL 中传送的参数是有长度限制的，而POST没有。（由浏览器规定）
* GET 比 POST 更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息。

本质区别？？？

GET和POST最大的区别主要是GET请求是幂等性的，POST请求不是

HTTP 幂等方法，是指无论调用这个 url 多少次，都会**返回相同的结果**的HTTP 方法。也就是不管你调用 1 次还是调用 100 次，1000 次，结果都是一样的（前提是服务器端的数据没有被人为手动更改。比如说，你数据库中的数据被手动更改过，那两次调用的结果肯定是变化的）

GET、PUT 和 DELETE都是幂等的

## PUT 请求和 POST 请求的区别
