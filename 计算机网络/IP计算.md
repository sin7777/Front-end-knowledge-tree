# IP 计算

IPV4 4个字节（32位），IPV6 16个字节（128个位）

每个 IP 地址包括两个标识码：网络 ID 和主机 ID

同一个物理网络上面使用一个网络 ID，网路上的一个主机有一个主机 ID

IP地址根据网络ID的不同分为5种类型：

* A类地址，000~127，默认子网掩码：255.0.0.0
* B类地址，128~191，默认子网掩码：255.255.0.0
* C类地址，192~223，默认子网掩码：255.255.255.0
* D类地址
* E类地址

> 假设现有一IP地址180.210.242.131，即10110100.11010010.11110010.10000011
>
> 同时指定子网掩码为255.255.248.0  即11111111.11111111.11111000.00000000
>
> 网络号：两者进行与运算，即10110100.11010010.11110000.00000000（180.210.240.0）
>
> 主机号：子网掩码取反再和IP做与运算，即00000000.00000000.00000010.10000011（0.0.2.131）
>
> 子网号：这个IP本来是B类地址，默认的子网掩码是255.255.0.0，所以本来的网络号是16位，但它实际网络号是21位，就是借了5位网络位，所以可以划分2^5个子网，即32个，实际使用30个，这个网段可以容纳主机2^11个，即2048个，有效2046个一头一尾分别做网络号和广播。

![IP](https://user-gold-cdn.xitu.io/2018/4/19/162db5e98d2e3d6a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

A类IP地址 一个A类IP地址由**1字节的网络地址和3字节主机地址**组成，它主要为大型网络而设计的，网络地址的最高位必须是“0”， 地址范围从1.0.0.0 到127.0.0.0）。可用的A类网络有127个，每个网络能容纳1亿多个主机。其中127.0.0.1是一个特殊的IP地址，表示主机本身，用于本地机器的测试。

> 注：A:0-127，其中0代表任何地址，127为回环测试地址，因此，A类ip地址的实际范围是1-126.默认子网掩码为255.0.0.0

B类IP地址 一个B类IP地址由**2个字节的网络地址和2个字节的主机**地址组成，网络地址的最高位必须是“10”，地址范围从128.0.0.0到191.255.255.255。可用的B类网络有16382个，每个网络能容纳6万多个主机。

> 注：B:128-191，其中128.0.0.0和191.255.0.0为保留ip，实际范围是128.1.0.0--191.254.0.0

C类IP地址 一个C类IP地址由**3字节的网络地址和1字节的主机地址**组成，网络地址的最高位必须是“110”。范围从192.0.0.0到223.255.255.255。C类网络可达209万余个，每个网络能容纳254个主机。

> 注：C:192-223，其中192.0.0.0和223.255.255.0为保留ip，实际范围是192.0.1.0--223.255.254.0

D类地址 用于**多点广播**（Multicast）。 D类IP地址第一个字节以“1110”开始，它是一个专门保留的地址。它并不指向特定的网络，目前这一类地址被用在多点广播（Multicast）中。多点广播地址用来一次寻址一组计算机，它标识共享同一协议的一组计算机。224.0.0.0到239.255.255.255用于多点广播 。

E类IP地址 以“11110”开始，为将来使用保留。240.0.0.0到255.255.255.254，255.255.255.255用于广播地址
